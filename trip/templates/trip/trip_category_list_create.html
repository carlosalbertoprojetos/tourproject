{% extends 'dashboard.html' %}


{% load i18n account static crispy_forms_tags %}

{% block title %}Passeios{% endblock title %}


{% block dashboard %}


<div class="container-fluid mt-2">
    <div class="container-form">
        <div class="card p-2">
            <div class="table-responsive">
                <div class="row">
                    <div class="col-sm-12 col-md-6">
                        <h2 class="form-title">Categorias de Passeios</h2>
                    </div>
                </div>
                <table id="myTable1" class="table table-striped table-bordered mt-5">
                    <thead>
                        <tr>
                            <th>Categoria</th>
                            <th>Slug</th>
                            <th>Descrição</th>
                            <th>Editar</th>
                            <th>Excluir</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for trip in object_list %}
                        <td>{{ trip.name }}</td>
                        <td align="center">{{ trip.slug }}</td>
                        <td>{{ trip.description|truncatechars:"20" }}</td>    
                        <td align="center">
                            <a href="{% url 'trip:trip_category_update' trip.pk %}" class="btn">
                                <i class="fas fa-user-edit"></i>
                            </a>
                        </td>
                        <td align="center">
                            <a href="{% url 'trip:trip_category_delete' trip.pk %}" class="btn">
                                <i class="fas fa-solid fa-trash"></i>                                    
                            </a>
                        </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div class="row mt-2">
                    <div class="col-sm-12 col-md-6">
                        <h4 class="form-title mb-3">Insira uma nova categoria de passeio</h4>
                    </div>
                    <div class="container-form">
                        <form method="POST" class="register-form">
                            {% csrf_token %}
                            {{ form.non_field_errors }}
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="id_name">Nome da Categoria</label>
                                    <input type="text" id="id_name" name="name" class="textinput textInput form-control">
                                </div>
                                <div class="col-md-6">
                                    <label for="id_description">Descrição</label>
                                    <input type="textarea" id="id_description" name="description" class="textinput textInput form-control">
                                </div>
                            </div>
                            <div class="form-group form-button">
                                <input type="submit" name="signup" id="signup" class="form-submit" value="Salvar" />
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}